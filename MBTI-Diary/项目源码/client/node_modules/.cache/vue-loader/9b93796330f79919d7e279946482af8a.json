{"remainingRequest":"E:\\SpringBoot+Vue校园论坛(微博)系统\\项目源码\\client\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\SpringBoot+Vue校园论坛(微博)系统\\项目源码\\client\\src\\views\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\SpringBoot+Vue校园论坛(微博)系统\\项目源码\\client\\src\\views\\index.vue","mtime":1711700876000},{"path":"E:\\SpringBoot+Vue校园论坛(微博)系统\\项目源码\\client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1718722932706},{"path":"E:\\SpringBoot+Vue校园论坛(微博)系统\\项目源码\\client\\node_modules\\babel-loader\\lib\\index.js","mtime":1718722933082},{"path":"E:\\SpringBoot+Vue校园论坛(微博)系统\\项目源码\\client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1718722932706},{"path":"E:\\SpringBoot+Vue校园论坛(微博)系统\\项目源码\\client\\node_modules\\vue-loader\\lib\\index.js","mtime":1718722926770}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCAqIGFzIGVjaGFydHMgZnJvbSAnZWNoYXJ0cyc7CmltcG9ydCB7IGdldFN0YXRpY0RhdGEgLGdldERhdGVVc2VyIH0gZnJvbSAiQC9hcGkvY2FtcHVzL2luZGV4IjsKaW1wb3J0IG1vbWVudCBmcm9tICdtb21lbnQnOwoKCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiSW5kZXgiLAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICB1c2VyTnVtOicnLAogICAgICBjYXRlZ29yeU51bTonJywKICAgICAgYWRkQ29udGVudE51bTonJywKICAgICAgb25saW5lTnVtOicnLAogICAgICAgc3RhcnREYXRlOiAnJywKICAgICAgZW5kRGF0ZTogJycsCiAgICAgIC8vIOaooeaLn+aVsOaNrgogICAgICB1c2VyRGF0YTogewogICAgICAgIGRhdGVzOiBbJzIwMjItMDEtMDEnLCAnMjAyMi0wMS0wMicsICcyMDIyLTAxLTAzJywgJzIwMjItMDEtMDQnLCAnMjAyMi0wMS0wNScsICcyMDIyLTAxLTA2JywgJzIwMjItMDEtMDcnXSwKICAgICAgICBkYXRhOiBbMTUwLCAyMzIsIDIwMSwgMTU0LCAxOTAsIDMzMCwgNDEwXQogICAgICB9LAogICAgICAvLyDniYjmnKzlj7cKICAgICAgdmVyc2lvbjogIjMuOC40IiwKICAgICAgLy8g5qih5ouf5pWw5o2uCiAgICAgIHBvc3REYXRhOiB7CiAgICAgICAgY2F0ZWdvcmllczogW10sCiAgICAgICAgZGF0YTogW10KICAgICAgfSwKICAgICAgc3RhcnRPcHRpb25zOiB7CiAgICAgICAgZm9ybWF0OiAneXl5eS1NTS1kZCcKICAgICAgfSwKICAgICAgZW5kT3B0aW9uczogewogICAgICAgIGZvcm1hdDogJ3l5eXktTU0tZGQnCiAgICAgIH0KICAgIH07CiAgfSwKICBtb3VudGVkKCkgewoKICAgICAgLy8g6I635Y+W5Yid5aeL5YyW5pWw5o2uCiAgICAgIHRoaXMuaW5pdERhdGEoKQoKICAgICAgLy8g5paw5aKe55So5oi35re75Yqg6buY6K6k5pe26Ze0CiAgICAgIHRoaXMuc2V0RGVmYXVsdERhdGVzKCk7CgogICAgICAvLyDojrflj5bnlKjmiLfmt7vliqDmlbDmja4KICAgICAgdGhpcy5nZXRBZGRVc2VyRGF0YSgpOwoKICAgICAgLy8g5Yid5aeL5YyW6KGoMgogICAgICB0aGlzLnJlbmRlckxpbmVDaGFydCgpOwoKICAgICAgLy8g5Yid5aeL5YyW6KGoMQogICAgICB0aGlzLnJlbmRlckJhckNoYXJ0KCkKCiAgICB9LAogIG1ldGhvZHM6IHsKCiAgICBpbml0RGF0YSgpIHsKICAgICAgZ2V0U3RhdGljRGF0YSgpLnRoZW4ocmVzID0+IHsKICAgICAgICB0aGlzLnVzZXJOdW0gPSByZXMuZGF0YS51c2VyTnVtOwogICAgICAgIHRoaXMuY2F0ZWdvcnlOdW0gPSByZXMuZGF0YS5jYXRlZ29yeU51bTsKICAgICAgICB0aGlzLmFkZENvbnRlbnROdW0gPSByZXMuZGF0YS5hZGRDb250ZW50TnVtOwogICAgICAgIHRoaXMub25saW5lTnVtID0gcmVzLmRhdGEub25saW5lTnVtOwoKICAgICAgICB0aGlzLnBvc3REYXRhLmNhdGVnb3JpZXMgPSByZXMuZGF0YS5jYXRlZ29yeU5hbWVMaXN0OwogICAgICAgIHRoaXMucG9zdERhdGEuZGF0YSA9IHJlcy5kYXRhLmNhdGVnb3J5TnVtTGlzdDsKLy8g5Yid5aeL5YyW6KGoMQogICAgICB0aGlzLnJlbmRlckJhckNoYXJ0KCkKICAgICAgfSk7CiAgICB9LAoKICAgIGdldEFkZFVzZXJEYXRhKCkgewogICAgICBjb25zdCBmb3JtYXR0ZWRTdGFydERhdGUgPSBtb21lbnQodGhpcy5zdGFydERhdGUpLmZvcm1hdCgnWVlZWS1NTS1ERCcpOwogICAgICBjb25zdCBmb3JtYXR0ZWRFbmREYXRlID0gbW9tZW50KHRoaXMuZW5kRGF0ZSkuZm9ybWF0KCdZWVlZLU1NLUREJyk7CiAgICAgIGNvbnNvbGUubG9nKCItLS0tLS0tLS0tLS0tLSIpCiAgICAgIGNvbnNvbGUubG9nKHRoaXMuc3RhcnREYXRlLHRoaXMuZW5kRGF0ZSkKICAgICAgY29uc29sZS5sb2coIi0tLS0tLS0tLS0tLS0tIikKCiAgICAgIGdldERhdGVVc2VyKGZvcm1hdHRlZFN0YXJ0RGF0ZSxmb3JtYXR0ZWRFbmREYXRlKS50aGVuKHJlcyA9PiB7CiAgICAgICAgdGhpcy51c2VyRGF0YS5kYXRlcyA9IHJlcy5kYXRhLmFkZERhdGU7CiAgICAgICAgdGhpcy51c2VyRGF0YS5kYXRhID0gcmVzLmRhdGEuYWRkTnVtOwogICAgICAgIC8vIOWIneWni+WMluihqDIKICAgICAgdGhpcy5yZW5kZXJMaW5lQ2hhcnQoKTsKICAgICAgfSkKICAgIH0sCgogICAgZ29UYXJnZXQoaHJlZikgewogICAgICB3aW5kb3cub3BlbihocmVmLCAiX2JsYW5rIik7CiAgICB9LAogICAgcmVuZGVyQmFyQ2hhcnQoKSB7CiAgICAgIGNvbnN0IGNoYXJ0ID0gZWNoYXJ0cy5pbml0KHRoaXMuJHJlZnMuYmFyQ2hhcnQpOwogICAgICBjb25zdCBvcHRpb24gPSB7CiAgICAgICAgdGl0bGU6IHsKICAgICAgICAgIHRleHQ6ICfluJblrZDliIbnsbvmlbDph4/ooagnCiAgICAgICAgfSwKICAgICAgICB0b29sdGlwOiB7fSwKICAgICAgICB4QXhpczogewogICAgICAgICAgZGF0YTogdGhpcy5wb3N0RGF0YS5jYXRlZ29yaWVzCiAgICAgICAgfSwKICAgICAgICB5QXhpczoge30sCiAgICAgICAgc2VyaWVzOiBbewogICAgICAgICAgbmFtZTogJ+W4luWtkOaVsOmHjycsCiAgICAgICAgICB0eXBlOiAnYmFyJywKICAgICAgICAgIGRhdGE6IHRoaXMucG9zdERhdGEuZGF0YSwKICAgICAgICAgICBiYXJXaWR0aDogJzI1JScKICAgICAgICB9XQogICAgICB9OwogICAgICBjaGFydC5zZXRPcHRpb24ob3B0aW9uKTsKICAgIH0sCiAgICAKCiBzZXREZWZhdWx0RGF0ZXMoKSB7CiAgICAgIGNvbnN0IHRvZGF5ID0gbmV3IERhdGUoKS50b0lTT1N0cmluZygpLnN1YnN0cigwLCAxMCk7CiAgICAgIHRoaXMuZW5kRGF0ZSA9IHRvZGF5OwogICAgICBjb25zdCBsYXN0V2VlayA9IG5ldyBEYXRlKERhdGUubm93KCkgLSA3ICogMjQgKiA2MCAqIDYwICogMTAwMCkudG9JU09TdHJpbmcoKS5zdWJzdHIoMCwgMTApOwogICAgICB0aGlzLnN0YXJ0RGF0ZSA9IGxhc3RXZWVrOwogICAgfSwKICAgIHJlbmRlckxpbmVDaGFydCgpIHsKICAgICAgY29uc3QgY2hhcnQgPSBlY2hhcnRzLmluaXQodGhpcy4kcmVmcy5saW5lQ2hhcnQpOwogICAgICBjb25zdCBvcHRpb24gPSB7CiAgICAgICAgdGl0bGU6IHsKICAgICAgICAgIHRleHQ6ICfmlrDlop7nlKjmiLfmlbDph48nCiAgICAgICAgfSwKICAgICAgICB0b29sdGlwOiB7fSwKICAgICAgICB4QXhpczogewogICAgICAgICAgdHlwZTogJ2NhdGVnb3J5JywKICAgICAgICAgIGRhdGE6IHRoaXMudXNlckRhdGEuZGF0ZXMKICAgICAgICB9LAogICAgICAgIHlBeGlzOiB7CiAgICAgICAgICB0eXBlOiAndmFsdWUnCiAgICAgICAgfSwKICAgICAgICBzZXJpZXM6IFt7CiAgICAgICAgICBuYW1lOiAn5paw5aKe55So5oi35pWw6YePJywKICAgICAgICAgIHR5cGU6ICdsaW5lJywKICAgICAgICAgIGRhdGE6IHRoaXMudXNlckRhdGEuZGF0YQogICAgICAgIH1dCiAgICAgIH07CiAgICAgIGNoYXJ0LnNldE9wdGlvbihvcHRpb24pOwogICAgfQoKCgoKCgoKCgogIH0sCn07Cg=="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+DA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;AAUA;AACA","file":"index.vue","sourceRoot":"src/views","sourcesContent":["<template>\n<!-- 新增代码： 首页数据 + echart表格 -->\n  <div class=\"app-container home\">\n    <el-row :gutter=\"32\">\n      <el-col :xs=\"12\" :sm=\"6\" style=\"text-align: center;margin-bottom: 32px;\">\n        <el-card shadow=\"hover\" @click.native=\"selectCard (0)\">\n          <p style=\"font-size: 15px; font-weight: bold;\">总人数</p>\n\n          <h2>{{userNum}}</h2>\n        </el-card>\n      </el-col>\n      <el-col :xs=\"12\" :sm=\"6\" style=\"text-align: center;margin-bottom: 32px;\">\n        <el-card shadow=\"hover\" @click.native=\"selectCard (1)\">\n                    <p style=\"font-size: 15px; font-weight: bold;\">总分类数</p>\n\n          <h2>{{categoryNum}}</h2>\n        </el-card>\n      </el-col>\n      <el-col :xs=\"12\" :sm=\"6\" style=\"text-align: center;margin-bottom: 32px;\">\n        <el-card shadow=\"hover\" @click.native=\"selectCard (2)\">\n                    <p style=\"font-size: 15px; font-weight: bold;\">今日新增帖子数</p>\n\n          <h2>{{addContentNum}}</h2>\n        </el-card>\n      </el-col>\n      <el-col :xs=\"12\" :sm=\"6\" style=\"text-align: center;margin-bottom: 32px;\">\n        <el-card shadow=\"hover\" @click.native=\"selectCard (3)\">\n                    <p style=\"font-size: 15px; font-weight: bold;\">今日在线人数</p>\n\n          <h2>{{onlineNum}}</h2>\n        </el-card>\n      </el-col>\n    </el-row>\n\n\n    <el-row type=\"flex\" justify=\"center\">\n      <el-col :span=\"24\" style=\"text-align: center;\">\n        <div class=\"bar-chart\">\n    <div ref=\"barChart\" class=\"chart\"></div>\n  </div>\n      </el-col>\n    </el-row>\n\n        <el-row type=\"flex\" justify=\"center\">\n<el-col :span=\"24\" style=\"text-align: center;\">\n        <div class=\"line-chart\">\n<div class=\"input-group\">\n  <label for=\"startDate\">开始时间:</label>\n  <el-date-picker v-model=\"startDate\" type=\"date\" placeholder=\"选择日期\" :picker-options=\"startOptions\"></el-date-picker>\n  <label for=\"endDate\">结束时间:</label>\n  <el-date-picker v-model=\"endDate\" type=\"date\" placeholder=\"选择日期\" :picker-options=\"endOptions\"></el-date-picker>\n  <el-button type=\"primary\" @click=\"getAddUserData\">提交</el-button>\n</div>\n    <div ref=\"lineChart\" class=\"chart\"></div>\n  </div>\n      </el-col>\n\n    </el-row>\n\n  </div>\n</template>\n\n<script>\nimport * as echarts from 'echarts';\nimport { getStaticData ,getDateUser } from \"@/api/campus/index\";\nimport moment from 'moment';\n\n\nexport default {\n  name: \"Index\",\n  data() {\n    return {\n      userNum:'',\n      categoryNum:'',\n      addContentNum:'',\n      onlineNum:'',\n       startDate: '',\n      endDate: '',\n      // 模拟数据\n      userData: {\n        dates: ['2022-01-01', '2022-01-02', '2022-01-03', '2022-01-04', '2022-01-05', '2022-01-06', '2022-01-07'],\n        data: [150, 232, 201, 154, 190, 330, 410]\n      },\n      // 版本号\n      version: \"3.8.4\",\n      // 模拟数据\n      postData: {\n        categories: [],\n        data: []\n      },\n      startOptions: {\n        format: 'yyyy-MM-dd'\n      },\n      endOptions: {\n        format: 'yyyy-MM-dd'\n      }\n    };\n  },\n  mounted() {\n\n      // 获取初始化数据\n      this.initData()\n\n      // 新增用户添加默认时间\n      this.setDefaultDates();\n\n      // 获取用户添加数据\n      this.getAddUserData();\n\n      // 初始化表2\n      this.renderLineChart();\n\n      // 初始化表1\n      this.renderBarChart()\n\n    },\n  methods: {\n\n    initData() {\n      getStaticData().then(res => {\n        this.userNum = res.data.userNum;\n        this.categoryNum = res.data.categoryNum;\n        this.addContentNum = res.data.addContentNum;\n        this.onlineNum = res.data.onlineNum;\n\n        this.postData.categories = res.data.categoryNameList;\n        this.postData.data = res.data.categoryNumList;\n// 初始化表1\n      this.renderBarChart()\n      });\n    },\n\n    getAddUserData() {\n      const formattedStartDate = moment(this.startDate).format('YYYY-MM-DD');\n      const formattedEndDate = moment(this.endDate).format('YYYY-MM-DD');\n      console.log(\"--------------\")\n      console.log(this.startDate,this.endDate)\n      console.log(\"--------------\")\n\n      getDateUser(formattedStartDate,formattedEndDate).then(res => {\n        this.userData.dates = res.data.addDate;\n        this.userData.data = res.data.addNum;\n        // 初始化表2\n      this.renderLineChart();\n      })\n    },\n\n    goTarget(href) {\n      window.open(href, \"_blank\");\n    },\n    renderBarChart() {\n      const chart = echarts.init(this.$refs.barChart);\n      const option = {\n        title: {\n          text: '帖子分类数量表'\n        },\n        tooltip: {},\n        xAxis: {\n          data: this.postData.categories\n        },\n        yAxis: {},\n        series: [{\n          name: '帖子数量',\n          type: 'bar',\n          data: this.postData.data,\n           barWidth: '25%'\n        }]\n      };\n      chart.setOption(option);\n    },\n    \n\n setDefaultDates() {\n      const today = new Date().toISOString().substr(0, 10);\n      this.endDate = today;\n      const lastWeek = new Date(Date.now() - 7 * 24 * 60 * 60 * 1000).toISOString().substr(0, 10);\n      this.startDate = lastWeek;\n    },\n    renderLineChart() {\n      const chart = echarts.init(this.$refs.lineChart);\n      const option = {\n        title: {\n          text: '新增用户数量'\n        },\n        tooltip: {},\n        xAxis: {\n          type: 'category',\n          data: this.userData.dates\n        },\n        yAxis: {\n          type: 'value'\n        },\n        series: [{\n          name: '新增用户数量',\n          type: 'line',\n          data: this.userData.data\n        }]\n      };\n      chart.setOption(option);\n    }\n\n\n\n\n\n\n\n\n\n  },\n};\n</script>\n\n<style scoped lang=\"scss\">\n\n\n\n.input-group {\n  margin-bottom: 20px;\n}\n\n.input-group label {\n  margin-right: 10px;\n}\n\n\n.chart {\n  height: 400px;\n}\n.home {\n  blockquote {\n    padding: 10px 20px;\n    margin: 0 0 20px;\n    font-size: 17.5px;\n    border-left: 5px solid #eee;\n  }\n  hr {\n    margin-top: 20px;\n    margin-bottom: 20px;\n    border: 0;\n    border-top: 1px solid #eee;\n  }\n  .col-item {\n    margin-bottom: 20px;\n  }\n\n  ul {\n    padding: 0;\n    margin: 0;\n  }\n\n  font-family: \"open sans\", \"Helvetica Neue\", Helvetica, Arial, sans-serif;\n  font-size: 13px;\n  color: #676a6c;\n  overflow-x: hidden;\n\n  ul {\n    list-style-type: none;\n  }\n\n  h4 {\n    margin-top: 0px;\n  }\n\n  h2 {\n    margin-top: 10px;\n    font-size: 26px;\n    font-weight: 100;\n  }\n\n  p {\n    margin-top: 10px;\n\n    b {\n      font-weight: 700;\n    }\n  }\n\n  .update-log {\n    ol {\n      display: block;\n      list-style-type: decimal;\n      margin-block-start: 1em;\n      margin-block-end: 1em;\n      margin-inline-start: 0;\n      margin-inline-end: 0;\n      padding-inline-start: 40px;\n    }\n  }\n}\n</style>\n\n"]}]}