{"remainingRequest":"E:\\MBTI-Diary\\项目源码\\client\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\MBTI-Diary\\项目源码\\client\\src\\views\\index.vue?vue&type=style&index=0&id=a83bd3b0&scoped=true&lang=scss&","dependencies":[{"path":"E:\\MBTI-Diary\\项目源码\\client\\src\\views\\index.vue","mtime":1711700876000},{"path":"E:\\MBTI-Diary\\项目源码\\client\\node_modules\\css-loader\\dist\\cjs.js","mtime":1718722932016},{"path":"E:\\MBTI-Diary\\项目源码\\client\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1718722926942},{"path":"E:\\MBTI-Diary\\项目源码\\client\\node_modules\\postcss-loader\\src\\index.js","mtime":1718722928962},{"path":"E:\\MBTI-Diary\\项目源码\\client\\node_modules\\sass-loader\\dist\\cjs.js","mtime":1718722927966},{"path":"E:\\MBTI-Diary\\项目源码\\client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1718722932706},{"path":"E:\\MBTI-Diary\\项目源码\\client\\node_modules\\vue-loader\\lib\\index.js","mtime":1718722926770}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCi5pbnB1dC1ncm91cCB7CiAgbWFyZ2luLWJvdHRvbTogMjBweDsKfQoKLmlucHV0LWdyb3VwIGxhYmVsIHsKICBtYXJnaW4tcmlnaHQ6IDEwcHg7Cn0KCgouY2hhcnQgewogIGhlaWdodDogNDAwcHg7Cn0KLmhvbWUgewogIGJsb2NrcXVvdGUgewogICAgcGFkZGluZzogMTBweCAyMHB4OwogICAgbWFyZ2luOiAwIDAgMjBweDsKICAgIGZvbnQtc2l6ZTogMTcuNXB4OwogICAgYm9yZGVyLWxlZnQ6IDVweCBzb2xpZCAjZWVlOwogIH0KICBociB7CiAgICBtYXJnaW4tdG9wOiAyMHB4OwogICAgbWFyZ2luLWJvdHRvbTogMjBweDsKICAgIGJvcmRlcjogMDsKICAgIGJvcmRlci10b3A6IDFweCBzb2xpZCAjZWVlOwogIH0KICAuY29sLWl0ZW0gewogICAgbWFyZ2luLWJvdHRvbTogMjBweDsKICB9CgogIHVsIHsKICAgIHBhZGRpbmc6IDA7CiAgICBtYXJnaW46IDA7CiAgfQoKICBmb250LWZhbWlseTogIm9wZW4gc2FucyIsICJIZWx2ZXRpY2EgTmV1ZSIsIEhlbHZldGljYSwgQXJpYWwsIHNhbnMtc2VyaWY7CiAgZm9udC1zaXplOiAxM3B4OwogIGNvbG9yOiAjNjc2YTZjOwogIG92ZXJmbG93LXg6IGhpZGRlbjsKCiAgdWwgewogICAgbGlzdC1zdHlsZS10eXBlOiBub25lOwogIH0KCiAgaDQgewogICAgbWFyZ2luLXRvcDogMHB4OwogIH0KCiAgaDIgewogICAgbWFyZ2luLXRvcDogMTBweDsKICAgIGZvbnQtc2l6ZTogMjZweDsKICAgIGZvbnQtd2VpZ2h0OiAxMDA7CiAgfQoKICBwIHsKICAgIG1hcmdpbi10b3A6IDEwcHg7CgogICAgYiB7CiAgICAgIGZvbnQtd2VpZ2h0OiA3MDA7CiAgICB9CiAgfQoKICAudXBkYXRlLWxvZyB7CiAgICBvbCB7CiAgICAgIGRpc3BsYXk6IGJsb2NrOwogICAgICBsaXN0LXN0eWxlLXR5cGU6IGRlY2ltYWw7CiAgICAgIG1hcmdpbi1ibG9jay1zdGFydDogMWVtOwogICAgICBtYXJnaW4tYmxvY2stZW5kOiAxZW07CiAgICAgIG1hcmdpbi1pbmxpbmUtc3RhcnQ6IDA7CiAgICAgIG1hcmdpbi1pbmxpbmUtZW5kOiAwOwogICAgICBwYWRkaW5nLWlubGluZS1zdGFydDogNDBweDsKICAgIH0KICB9Cn0K"},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyNA;AACA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views","sourcesContent":["<template>\n<!-- 新增代码： 首页数据 + echart表格 -->\n  <div class=\"app-container home\">\n    <el-row :gutter=\"32\">\n      <el-col :xs=\"12\" :sm=\"6\" style=\"text-align: center;margin-bottom: 32px;\">\n        <el-card shadow=\"hover\" @click.native=\"selectCard (0)\">\n          <p style=\"font-size: 15px; font-weight: bold;\">总人数</p>\n\n          <h2>{{userNum}}</h2>\n        </el-card>\n      </el-col>\n      <el-col :xs=\"12\" :sm=\"6\" style=\"text-align: center;margin-bottom: 32px;\">\n        <el-card shadow=\"hover\" @click.native=\"selectCard (1)\">\n                    <p style=\"font-size: 15px; font-weight: bold;\">总分类数</p>\n\n          <h2>{{categoryNum}}</h2>\n        </el-card>\n      </el-col>\n      <el-col :xs=\"12\" :sm=\"6\" style=\"text-align: center;margin-bottom: 32px;\">\n        <el-card shadow=\"hover\" @click.native=\"selectCard (2)\">\n                    <p style=\"font-size: 15px; font-weight: bold;\">今日新增帖子数</p>\n\n          <h2>{{addContentNum}}</h2>\n        </el-card>\n      </el-col>\n      <el-col :xs=\"12\" :sm=\"6\" style=\"text-align: center;margin-bottom: 32px;\">\n        <el-card shadow=\"hover\" @click.native=\"selectCard (3)\">\n                    <p style=\"font-size: 15px; font-weight: bold;\">今日在线人数</p>\n\n          <h2>{{onlineNum}}</h2>\n        </el-card>\n      </el-col>\n    </el-row>\n\n\n    <el-row type=\"flex\" justify=\"center\">\n      <el-col :span=\"24\" style=\"text-align: center;\">\n        <div class=\"bar-chart\">\n    <div ref=\"barChart\" class=\"chart\"></div>\n  </div>\n      </el-col>\n    </el-row>\n\n        <el-row type=\"flex\" justify=\"center\">\n<el-col :span=\"24\" style=\"text-align: center;\">\n        <div class=\"line-chart\">\n<div class=\"input-group\">\n  <label for=\"startDate\">开始时间:</label>\n  <el-date-picker v-model=\"startDate\" type=\"date\" placeholder=\"选择日期\" :picker-options=\"startOptions\"></el-date-picker>\n  <label for=\"endDate\">结束时间:</label>\n  <el-date-picker v-model=\"endDate\" type=\"date\" placeholder=\"选择日期\" :picker-options=\"endOptions\"></el-date-picker>\n  <el-button type=\"primary\" @click=\"getAddUserData\">提交</el-button>\n</div>\n    <div ref=\"lineChart\" class=\"chart\"></div>\n  </div>\n      </el-col>\n\n    </el-row>\n\n  </div>\n</template>\n\n<script>\nimport * as echarts from 'echarts';\nimport { getStaticData ,getDateUser } from \"@/api/campus/index\";\nimport moment from 'moment';\n\n\nexport default {\n  name: \"Index\",\n  data() {\n    return {\n      userNum:'',\n      categoryNum:'',\n      addContentNum:'',\n      onlineNum:'',\n       startDate: '',\n      endDate: '',\n      // 模拟数据\n      userData: {\n        dates: ['2022-01-01', '2022-01-02', '2022-01-03', '2022-01-04', '2022-01-05', '2022-01-06', '2022-01-07'],\n        data: [150, 232, 201, 154, 190, 330, 410]\n      },\n      // 版本号\n      version: \"3.8.4\",\n      // 模拟数据\n      postData: {\n        categories: [],\n        data: []\n      },\n      startOptions: {\n        format: 'yyyy-MM-dd'\n      },\n      endOptions: {\n        format: 'yyyy-MM-dd'\n      }\n    };\n  },\n  mounted() {\n\n      // 获取初始化数据\n      this.initData()\n\n      // 新增用户添加默认时间\n      this.setDefaultDates();\n\n      // 获取用户添加数据\n      this.getAddUserData();\n\n      // 初始化表2\n      this.renderLineChart();\n\n      // 初始化表1\n      this.renderBarChart()\n\n    },\n  methods: {\n\n    initData() {\n      getStaticData().then(res => {\n        this.userNum = res.data.userNum;\n        this.categoryNum = res.data.categoryNum;\n        this.addContentNum = res.data.addContentNum;\n        this.onlineNum = res.data.onlineNum;\n\n        this.postData.categories = res.data.categoryNameList;\n        this.postData.data = res.data.categoryNumList;\n// 初始化表1\n      this.renderBarChart()\n      });\n    },\n\n    getAddUserData() {\n      const formattedStartDate = moment(this.startDate).format('YYYY-MM-DD');\n      const formattedEndDate = moment(this.endDate).format('YYYY-MM-DD');\n      console.log(\"--------------\")\n      console.log(this.startDate,this.endDate)\n      console.log(\"--------------\")\n\n      getDateUser(formattedStartDate,formattedEndDate).then(res => {\n        this.userData.dates = res.data.addDate;\n        this.userData.data = res.data.addNum;\n        // 初始化表2\n      this.renderLineChart();\n      })\n    },\n\n    goTarget(href) {\n      window.open(href, \"_blank\");\n    },\n    renderBarChart() {\n      const chart = echarts.init(this.$refs.barChart);\n      const option = {\n        title: {\n          text: '帖子分类数量表'\n        },\n        tooltip: {},\n        xAxis: {\n          data: this.postData.categories\n        },\n        yAxis: {},\n        series: [{\n          name: '帖子数量',\n          type: 'bar',\n          data: this.postData.data,\n           barWidth: '25%'\n        }]\n      };\n      chart.setOption(option);\n    },\n    \n\n setDefaultDates() {\n      const today = new Date().toISOString().substr(0, 10);\n      this.endDate = today;\n      const lastWeek = new Date(Date.now() - 7 * 24 * 60 * 60 * 1000).toISOString().substr(0, 10);\n      this.startDate = lastWeek;\n    },\n    renderLineChart() {\n      const chart = echarts.init(this.$refs.lineChart);\n      const option = {\n        title: {\n          text: '新增用户数量'\n        },\n        tooltip: {},\n        xAxis: {\n          type: 'category',\n          data: this.userData.dates\n        },\n        yAxis: {\n          type: 'value'\n        },\n        series: [{\n          name: '新增用户数量',\n          type: 'line',\n          data: this.userData.data\n        }]\n      };\n      chart.setOption(option);\n    }\n\n\n\n\n\n\n\n\n\n  },\n};\n</script>\n\n<style scoped lang=\"scss\">\n\n\n\n.input-group {\n  margin-bottom: 20px;\n}\n\n.input-group label {\n  margin-right: 10px;\n}\n\n\n.chart {\n  height: 400px;\n}\n.home {\n  blockquote {\n    padding: 10px 20px;\n    margin: 0 0 20px;\n    font-size: 17.5px;\n    border-left: 5px solid #eee;\n  }\n  hr {\n    margin-top: 20px;\n    margin-bottom: 20px;\n    border: 0;\n    border-top: 1px solid #eee;\n  }\n  .col-item {\n    margin-bottom: 20px;\n  }\n\n  ul {\n    padding: 0;\n    margin: 0;\n  }\n\n  font-family: \"open sans\", \"Helvetica Neue\", Helvetica, Arial, sans-serif;\n  font-size: 13px;\n  color: #676a6c;\n  overflow-x: hidden;\n\n  ul {\n    list-style-type: none;\n  }\n\n  h4 {\n    margin-top: 0px;\n  }\n\n  h2 {\n    margin-top: 10px;\n    font-size: 26px;\n    font-weight: 100;\n  }\n\n  p {\n    margin-top: 10px;\n\n    b {\n      font-weight: 700;\n    }\n  }\n\n  .update-log {\n    ol {\n      display: block;\n      list-style-type: decimal;\n      margin-block-start: 1em;\n      margin-block-end: 1em;\n      margin-inline-start: 0;\n      margin-inline-end: 0;\n      padding-inline-start: 40px;\n    }\n  }\n}\n</style>\n\n"]}]}